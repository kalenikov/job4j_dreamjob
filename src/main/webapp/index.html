<!DOCTYPE html>
<html lang="en">
<head>
    <title>Bootstrap Example</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
            integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns"
            crossorigin="anonymous"></script>

    <script type="text/javascript">
        // $(document).ready(function () {
        //     $(':text').val('default text');
        // });

        function addRow() {
            $('table tr:last').after('<tr>');
            let newRow = $('table tr:last');
            // iterate over columns headers in table
            $('table thead th').each(function () {
                let colName = $(this).text().toLowerCase();
                let val = $('#' + colName).val();
                if (colName === 'n') {
                    val = $('table tr').length - 1;
                }
                newRow.append(`<td>${val}</td>`)
            });
        }

        function validate() {
            const validatesIds = ['name', 'lastname', 'sex'];
            let isValid = true;
            validatesIds.forEach(id => {
                let el = $('#'.concat(id));
                if (!el.val()) {
                    el.addClass('is-invalid')
                    isValid = false;
                } else {
                    el.removeClass('is-invalid');
                }
            });
            return isValid;
        }

    </script>
</head>
<body>
<div class="container" style="position: relative">
    <div class="row mt-4 mb-2">
        <h4>Add new candidate</h4>
    </div>
    <form id="input-form">
        <div class="row form-group">
            <label class="col-lg-2" for="name">Name</label>
            <div class="col-lg-5">
                <input type="text" class="form-control" id="name">
                <div class="invalid-feedback">
                    Please specify the name
                </div>
            </div>
        </div>
        <div class="row form-group">
            <label class="col-lg-2" for="lastname">Last name</label>
            <div class="col-lg-5">
                <input type="text" class="form-control" id="lastname">
                <div class="invalid-feedback">
                    Please specify the lastname
                </div>
            </div>
        </div>
        <div class="row form-group">
            <label class="col-lg-2">Sex</label>
            <div class="col-lg-4">
                <select class="form-control" id="sex">
                    <option></option>
                    <option>муж</option>
                    <option>жен</option>
                </select>
                <div class="invalid-feedback">
                    Please select the desired value
                </div>
            </div>
        </div>
        <div class="row">
            <label class="col-lg-2" for="info">Additional information</label>
            <div class="col-lg-5">
                <textarea class="form-control" id="info" rows="2"></textarea>
            </div>
        </div>
        <div class="row form-group">
            <div class="col-sm-10">
                <button type="submit" class="btn btn-primary" onclick="return validate()">Save</button>
            </div>
        </div>
    </form>
    <div class="row mt-4 mb-2">
        <h4>Candidates</h4>
    </div>
    <button type="button" class="btn btn-secondary" onclick="addRow()">Add row</button>
    <div class="row">
        <table class="table table-bordered" id="table">
            <thead>
            <tr>
                <th scope="col">N</th>
                <th scope="col">Name</th>
                <th scope="col">Lastname</th>
                <th scope="col">Sex</th>
                <th scope="col">Info</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <th scope="row">1</th>
                <td>name1</td>
                <td>lastname1</td>
                <td>male</td>
                <td>add info 1</td>
            </tr>
            <tr>
                <th scope="row">2</th>
                <td>name2</td>
                <td>lastname2</td>
                <td>male</td>
                <td>add info 2</td>
            </tr>
            </tbody>
        </table>
    </div>
</div>

</body>
</html>